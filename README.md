# 杀戮尖塔练习项目
## ps: 以下是ai生成，实际上结构非常乱，暂时也不能启动游戏


## 项目简介
本项目是一个基于《杀戮尖塔》（Slay the Spire）玩法的练习性游戏实现，旨在通过Python代码复现卡牌战斗、地图探索、角色成长等核心玩法机制。项目目前处于框架搭建阶段，已实现基础数据结构和核心系统雏形，可支持简单的游戏流程演示。


## 核心功能模块

### 1. 卡牌系统
- **卡牌定义**：通过`Card`类实现，包含卡牌ID、名称、能量消耗、类型（攻击/技能/能力/状态）、效果数据等属性
- **卡牌效果**：攻击牌（类型1）支持基础伤害计算与AOE效果，技能牌（类型2）预留格挡与Buff逻辑框架
- **数据配置**：卡牌数据存储于`al_card.json`，包含「打击」「防御」「灾祸」等示例卡牌

### 2. 战斗系统
- **战斗流程**：`battleing`函数实现战斗初始化，支持回合开始抽牌、遗物效果触发等基础逻辑
- **伤害与格挡**：通过`trigger_damage`和`trigger_block`函数处理Buff对伤害/格挡的增减效果
- **敌人AI**：`Intent`类定义敌人行动意图（攻击/回血/上Buff），支持意图链与参数配置（基于`al_object.json`）

### 3. 地图与探索
- **地图生成**：`Map`类支持多阶段位面地图生成，包含随机节点分布（小怪、精英、商店、宝箱等）
- **节点类型**：通过图标区分7种节点（`["💀","💰","🔥","👻","😈","💎","❓"]`），对应Boss、商店、休整点等场景
- **对话事件**：`Dialogue`类实现事件交互流程，支持选项选择与效果触发（如增减生命值、获得遗物）

### 4. 角色与状态
- **角色属性**：玩家与敌人通过`Object`类统一管理，包含生命值、格挡、Buff列表等属性
- **Buff系统**：`Buff`类支持多种触发条件（回合开始/结束、攻击/被攻击等），效果包括伤害增减、属性加成等（配置于`al_buff.json`）
- **遗物系统**：`Relic`类预留战斗开始、回合开始等触发时机，支持被动效果增益


## 项目结构
```
Slay-the-Spire-exercise/
├── main.py               # 主程序入口（角色选择、地图交互）
├── src/
│   ├── Game/
│   │   ├── all_card_type/  # 卡牌相关（类型定义、效果逻辑）
│   │   ├── common/         # 公共模块（战斗流程、Buff、遗物）
│   │   ├── map/            # 地图与节点（地图生成、对话事件）
│   │   ├── object.py       # 游戏对象（玩家/敌人属性）
│   │   ├── intent.py       # 敌人行动意图系统
│   │   └── start_game.py   # 游戏初始化逻辑
│   └── __init__.py
└── 配置文件/
    ├── al_card.json        # 卡牌数据
    ├── al_object.json      # 敌人数据
    ├── al_buff.json        # Buff效果数据
    └── al_dialogue.json    # 对话事件数据
```


## 使用说明
1. 运行`main.py`启动游戏
2. 按提示选择角色（当前仅支持「The Silent」）
3. 通过菜单选项导航地图（1. 显示地图 / 2. 切换位面 / 0. 退出）
4. 探索节点触发事件（当前仅部分节点支持基础交互）


## 当前进度
- 已完成：基础框架搭建（卡牌、战斗、地图类结构）、简单交互流程、核心数据配置格式
- 待完善：技能卡牌效果、敌人AI行动逻辑、节点交互细节（商店/休整点等）、战斗回合闭环


## 后续计划
1. 完善战斗系统：补全玩家回合操作流程、敌人意图执行逻辑、能量消耗计算
2. 实现节点功能：开发商店（卡牌买卖）、休整点（回血/移除诅咒）等节点交互
3. 扩展内容：增加更多卡牌、敌人类型、Buff效果与遗物，丰富游戏策略性
4. 优化体验：补充操作提示、战斗状态反馈、界面美化


